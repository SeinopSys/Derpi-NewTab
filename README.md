<p align="center"><img src="https://raw.githubusercontent.com/SeinopSys/Derpi-NewTab/master/screenshots/chrome/3_display.png" alt="Derpi-New Tab Chrome Screenshot" width="300px"> <img src="https://raw.githubusercontent.com/SeinopSys/Derpi-NewTab/master/screenshots/firefox/3_display.png" alt="Derpi-New Tab Firefox Screenshot" width="300px"></p>
<h1 align="center"><img src="https://raw.githubusercontent.com/SeinopSys/Derpi-NewTab/master/derpinewtab/img/64.png" alt="Derpi-New Tab Extension Logo" height="30px"> Derpi-New Tab</h1>

A simplistic "New tab" page replacement for Google Chrome and Firefox which features pony wallpapers from [Derpibooru.org](http://derpibooru.org/).

<p align="center"><a href="https://chrome.google.com/webstore/detail/derpi-new-tab/noggelkbkffdifgemicnanbkghjkoipl"><img src="https://storage.googleapis.com/chrome-gcs-uploader.appspot.com/image/WlD8wC6g8khYWPJUsQceQkhXSlv1/iNEddTyWiMfLSwFD6qGq.png" height="60" alt="Download Derpi-New Tab from the Chrome Web Store"></a> <a href="https://addons.mozilla.org/en-US/firefox/addon/derpi-newtab/"><img src="https://addons.cdn.mozilla.net/static/img/addons-buttons/AMO-button_1.png" height="60" alt="Download Derpi-New Tab from Firefox Add-ons"></a></p>

<p align="center"><img alt="Download Derpi-New Tab from the Chrome Web Store" src="https://img.shields.io/chrome-web-store/v/noggelkbkffdifgemicnanbkghjkoipl"> <img alt="Download Derpi-New Tab from Firefox Add-ons" src="https://img.shields.io/amo/v/derpi-newtab"></p>


## Build instructions

1. Install the latest version of Node.js and NPM for your platform
2. Execute `npm ci` in the root directory
3. Execute `npm run postintall` in the root directory
4. Execute `npm run build` in the root directory

After this, the contents of the `derpinewtab` folder is the build output. Additionally, a zip file is created in the root folder named `derpinewtab.zip`, which gets uploaded to the extension hosting sites.

Sometimes `node-7z-archive` can fail to install binaries, in which case step 2 will fail with an error similar to this:

> Error: spawn (â€¦)\node_modules\node-7z-archive\binaries\win32\7za.exe ENOENT

In this case the build actually succeeded, and only the final zipping step failed. You can simply use the contents of the `derpinewtab` folder and/or zip it manually using your favourite tool.

### Explanation

For a one-time build, simply install the dependencies using `npm ci` then execute `npm run postintall` which will copy the necessary 3rd-party code to the `derpinewtab/js/vendor` directory, then finally run `npm run build` which will create a zip archive containing the extension code.

The files generated by this script are tied to the source files, so they are in the repository's `.gitignore` to prevent them from being committed.
